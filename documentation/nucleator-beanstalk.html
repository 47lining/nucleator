<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="generator" content="AsciiDoc 8.6.9">
<meta name="viewport" content="width=device-width, maximum-scale=1.0, minimum-scale=1.0, initial-scale=1" />
<link rel="shortcut icon" href="../images/favicon.ico" type="image/x-icon">
<link rel="icon" href="../images/favicon.ico" type="image/x-icon">
<meta name="Author" content="47Lining LLC">
<meta name="description" content="47Lining LLC: Nucleator DevOps Acceleration Tools">
<meta name="keywords" content="Cloud, AWS, Amazon Web Services, Nucleator, Cloud, AWS, Amazon Web Services, Cloud Platform Operations, DevOps, Ansible">
<title>Nucleator: nucleator-beanstalk(1)</title>

<link rel="stylesheet" href="../site/css/cli.css" type="text/css">

    <link rel="stylesheet" href="../css/site.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../css/screen_styles.css" />
    <link rel="stylesheet" type="text/css" href="../css/screen_layout_large.css" />
    <link rel="stylesheet" type="text/css" media="only screen and (min-width:50px) and (max-width:1000px)" href="../css/screen_layout_small.css">



    <!--[if lt IE 9]>
        <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-58429312-2', 'auto');
      ga('send', 'pageview');
    </script>
</head>
<body class="manpage">

    <div class="page">
      <div class="secondaryHeader">
        <a class="secondaryLogo" href="../index.html"></a>
      </div>
      <article>
        <div id="breadcrumb-section">
          <ol id="breadcrumbs">
                    <li>
              <span><a href="Nucleator-Documentation_22052969.html">Nucleator Documentation</a></span>
            </li>
                      </ol>
        </div>
        <h1> Nucleator CLI Reference </h1>


<div id="header">
<h1>
nucleator-beanstalk(1) Manual Page
</h1>
<h2>NAME</h2>
<div class="sectionbody">
<p>nucleator-beanstalk -
   Provision, Configure and Invoke Operations on Elastic Beanstalk Applications and Environments in Nucleator Cages
</p>
</div>
</div>
<div id="content">
<div class="sect1">
<h2 id="_synopsis">SYNOPSIS</h2>
<div class="sectionbody">
<div class="verseblock">
<pre class="content"><em>nucleator beanstalk provision</em> &lt;args&gt; [options]
<em>nucleator beanstalk configure</em> &lt;args&gt; [options]
<em>nucleator beanstalk deploy</em> &lt;args&gt; [options]
<em>nucleator beanstalk delete</em> &lt;args&gt; [options]</pre>
<div class="attribution">
</div></div>
</div>
</div>
<div class="sect1">
<h2 id="_description">DESCRIPTION</h2>
<div class="sectionbody">
<div class="paragraph"><p>The <span class="monospaced">beanstalk</span> command and its subcommands are used to create and maintain
Elastic Beanstalk Applications and Environments within Nucleator Cages.</p></div>
<div class="paragraph"><p>Running <span class="monospaced">nucleator beanstalk provision</span> and <span class="monospaced">nucleator beanstalk
configure</span> multiple times is safe, because provisioning and
configuration operations are idempotent. If no changes have been made
to the Stackset definition in <span class="monospaced">~/.nucleator/contrib/beanstalk</span>, these
commands will result in no change.  If updates were made to to the
Stackset definition (via <span class="monospaced">nucleator update</span>, for example) that are
consistent with CloudFormation&#8217;s "update in place" capabilities, the
Stackset will be updated in place so that AWS Resources are brought
into alignment with the new Stackset definition.  This can be useful,
for example, when modifying security groups to support application
communication on various ports that the app may require.</p></div>
<div class="paragraph"><p>The <span class="monospaced">beanstalk</span> command provides the ability to easily manage
provisioning parameters supporting setup and common scaling operations
via the Nucleator CLI.</p></div>
</div>
</div>
<div class="sect1">
<h2 id="_subcommands">SUBCOMMANDS</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_beanstalk_provision">BEANSTALK PROVISION</h3>
<div class="dlist"><dl>
<dt class="hdlist1">
<em>nucleator beanstalk provision</em>
</dt>
<dd>
<p>
        --customer &lt;customer_name&gt;
        --cage &lt;cage_name&gt;
        --app_name &lt;beanstalk_application_name&gt;
        --type &lt;application_type&gt;
        [--tier &lt;tier_type&gt;]
        [--beanstalk-instance-type &lt;ec2_instance_type&gt;]
        [--database-instance-type &lt;rds_instance_type&gt;]
        [--database-name &lt;database_name&gt;]
        [--database-user &lt;database_user&gt;]
        [--database-password &lt;database_password&gt;]
        [--minscale &lt;min_value&gt;]
        [--maxscale &lt;max_value&gt;]
        [--service-role &lt;iam_role_name&gt;]
        [--queue-url &lt;url&gt;]
        [--inactivity-timeout &lt;timeout_value&gt;]
        [--visibility-timeout &lt;timeout_value&gt;]
        [--preview] [-h | --help]
</p>
<div class="paragraph"><p><span class="monospaced">nucleator beanstalk provision</span> creates an AWS Elastic Beanstalk
application and environment in the specified Cage for the specified
Customer.  It can also provision a backing RDS database for
persistence of application state.</p></div>
<div class="paragraph"><p>The subcommand provisions an autoscaling environment that spans the two
availability zones defined in the Cage configuration for the specified
Cage.  The min, max and desired autoscaling targets can be specified
using subcommand options.</p></div>
</dd>
</dl></div>
</div>
<div class="sect2">
<h3 id="_beanstalk_configure">BEANSTALK CONFIGURE</h3>
<div class="dlist"><dl>
<dt class="hdlist1">
<em>nucleator beanstalk configure</em>
</dt>
<dd>
<p>
        --customer &lt;customer_name&gt;
        --cage &lt;cage_name&gt;
        --app-name &lt;beanstalk_application_name&gt;
        [-h | --help]
</p>
<div class="paragraph"><p><span class="monospaced">nucleator beanstalk configure</span> performs post-provisioning configuration of
all EC2 resources associated with the beanstalk.</p></div>
<div class="paragraph"><p>By default all hosts associated with any instance of the <span class="monospaced">beanstalk</span>
Stackset within the specified Cage will be configured. The
<span class="monospaced">app-name</span> option can be used to optionally constrain
the set of configured instances to hosts associated with a specified
<span class="monospaced">beanstalk</span> Stackset instance.</p></div>
</dd>
</dl></div>
</div>
<div class="sect2">
<h3 id="_beanstalk_deploy">BEANSTALK DEPLOY</h3>
<div class="dlist"><dl>
<dt class="hdlist1">
<em>nucleator beanstalk deploy</em>
</dt>
<dd>
<p>
        --customer &lt;customer_name&gt;
        --cage &lt;cage_name&gt;
        --app-name &lt;app_name&gt;
        --app-version &lt;beanstalk_application_version&gt;
        --app-url &lt;application_url&gt;
</p>
<div class="paragraph"><p><span class="monospaced">nucleator beanstalk deploy</span> deploys the application deployment
artifact at <span class="monospaced">&lt;application_url&gt;</span> (typically drawn from an artifactory)
to the <span class="monospaced">beanstalk</span> Stackset instance specified by <span class="monospaced">&lt;app_name&gt;</span>.
During deployment, a the specified <span class="monospaced">&lt;beanstalk_application_version&gt;</span>
is created within the beanstalk, and deployed to the specified
<span class="monospaced">&lt;beanstalk_environment_name&gt;</span> beanstalk environment.</p></div>
</dd>
</dl></div>
</div>
<div class="sect2">
<h3 id="_beanstalk_delete">BEANSTALK DELETE</h3>
<div class="dlist"><dl>
<dt class="hdlist1">
<em>nucleator beanstalk delete</em>
</dt>
<dd>
<p>
        --customer &lt;customer_name&gt;
        --cage &lt;cage_name&gt;
        --app-name &lt;beanstalk_application_name&gt;
</p>
<div class="paragraph"><p><span class="monospaced">nucleator beanstalk delete</span> attempts to delete the <span class="monospaced">beanstalk</span>
Stackset instance specified by &lt;beanstalk_application_name&gt; from the
specified Nucleator Cage.</p></div>
</dd>
</dl></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_options">OPTIONS</h2>
<div class="sectionbody">
<div class="dlist"><dl>
<dt class="hdlist1">
--customer &lt;customer_name&gt;
</dt>
<dd>
<p>
        The name of the Customer for whom the specified Cage was provisioned.
</p>
</dd>
<dt class="hdlist1">
--cage &lt;cage_name&gt;
</dt>
<dd>
<p>
        The name of the Cage in which to provision and maintain the beanstalk.
</p>
</dd>
<dt class="hdlist1">
--app-name &lt;beanstalk_application_name&gt;
</dt>
<dd>
<p>
        The name of the elastic beanstalk application to provision,
        configure, deploy or delete. Note that nucleator will extend this
        base application name appending "-&lt;cage&gt;-&lt;customer&gt;" to support AWS
        naming best practices and ensure uniqueness within the target AWS
        account. So for example if "myapp" is passed as app_name, the
        provisioned beanstalk will be named "myapp-&lt;cage&gt;-&lt;customer&gt;".
</p>
</dd>
<dt class="hdlist1">
--type &lt;application_type&gt;
</dt>
<dd>
<p>
        The type of application environment to provision. Currently supported
        application types are "java8", "java7", "nodejs", "python3", "python27",
    "ruby22_pass", "ruby22_puma", "tomcat8", "tomcat7", "tomcat7java6",
    "go", "docker17", "docker16".  These correspond to the AWS Beanstalk instance
    types, so you may consult the AWS documentation for details.
</p>
</dd>
<dt class="hdlist1">
--tier &lt;tier_type&gt;
</dt>
<dd>
<p>
    The "tier" of the instance, meaning, either "worker" or "webserver".  A web
    server instance is placed behind a load balancer and gets an internal DNS
    entry.  A worker instance gets an SQS queue associated with it.  A daemon
    is created and runs on the instance which reads that queue and posts messages
    to the worker application when the queue is read.
</p>
</dd>
<dt class="hdlist1">
--beanstalk-instance-type &lt;ec2_instance_type&gt;
</dt>
<dd>
<p>
        The type of ec2 instance to use within the elastic beanstalk.
        Must be drawn from the list of currently supported ec2
        instance types in aws_service_config.yml.  Defaults to
        "t2.micro".  See also <a href="#FILES">[FILES]</a>.
</p>
</dd>
<dt class="hdlist1">
--database-instance-type &lt;rds_instance_type&gt;
</dt>
<dd>
<p>
        The type of AWS Relational Database Service (RDS) instance to
        use within the elastic beanstalk.  Must be drawn from the list
        of currently supported RDS instance types in
        aws_service_config.yml.  Use "None" to signify that no RDS
        instance should be provisioned.  Defaults to "None". See also <a href="#FILES">[FILES]</a>.
</p>
</dd>
<dt class="hdlist1">
--database-name &lt;database_name&gt;
</dt>
<dd>
<p>
        The name of the database to provision within the RDS instance
        provisioned to provide data persistence for the Elastic
        Beanstalk.  Defaults to "nucleator".  See also <a href="#FILES">[FILES]</a>.
</p>
</dd>
<dt class="hdlist1">
--database-user &lt;database_user&gt;
</dt>
<dd>
<p>
        The database user created in the RDS instance
        provisioned to provide data persistence for the Elastic
        Beanstalk.  Defaults to "nucleatorAdmin".  See also <a href="#FILES">[FILES]</a>.
</p>
</dd>
<dt class="hdlist1">
--database-password &lt;database_password&gt;
</dt>
<dd>
<p>
        The password for the database user created in the RDS instance
        provisioned to provide data persistence for the Elastic
        Beanstalk.  Defaults to "DefaultPassword".  See also <a href="#FILES">[FILES]</a>.
</p>
</dd>
<dt class="hdlist1">
--limit-stackset-instance &lt;beanstalk_application_name&gt;
</dt>
<dd>
<p>
        Limits stackset configuration to hosts associated with <span class="monospaced">beanstalk</span>
        Stackset instance <span class="monospaced">&lt;beanstalk_application_name&gt;</span>.
</p>
</dd>
<dt class="hdlist1">
--minscale &lt;min_value&gt;
</dt>
<dd>
<p>
        The minimum number of elastic beanstalk instances in the
        autoscaling group associated with the elastic beanstalk.
        Defaults to 1.
</p>
</dd>
<dt class="hdlist1">
--maxscale &lt;max_value&gt;
</dt>
<dd>
<p>
        The maximum number of elastic beanstalk instances in the
        autoscaling group associated with the elastic beanstalk.
        Defaults to 4.
</p>
</dd>
<dt class="hdlist1">
--service-role &lt;iam_role_name&gt;
</dt>
<dd>
<p>
        The IAM role to be associated with the instance profile that is associated
        with beanstalk EC2 resources. Defaults to NucleatorBeanstalkServiceRunner.
        Applications may wish to use an alternate IAM role if extended permissions
        to other AWS resources are required by the application.
</p>
</dd>
<dt class="hdlist1">
--preview
</dt>
<dd>
<p>
        When provisioning a beanstalk, rather than provision the beanstalk,
        print preview information about what will be provisioned if
        run without the <span class="monospaced">--preview</span> opion.  Preview text is intended
        to be descriptive and may also include links to graphical
        architecture diagrams.
</p>
</dd>
<dt class="hdlist1">
-h
</dt>
<dt class="hdlist1">
--help
</dt>
<dd>
<p>
        Show help for this command.
</p>
</dd>
</dl></div>
</div>
</div>
<div class="sect1">
<h2 id="FILES">FILES</h2>
<div class="sectionbody">
<div class="dlist"><dl>
<dt class="hdlist1">
NUCLEATOR_INSTALL_DIR/nucleator-core/lib/nucleator/core/foundation/ansible/roles/config/vars/aws_service_config.yml
</dt>
<dd>
<p>
        AWS Services config file including dicts for currently supported EC2 and
        RDS instance types.
</p>
</dd>
<dt class="hdlist1">
~/.nucleator/contrib/beanstalk/ansible/roles/beanstalk_provision/defaults/main.yml
</dt>
<dd>
<p>
        Default values for optional arguments to the <span class="monospaced">beanstalk</span> command.
</p>
</dd>
</dl></div>
</div>
</div>
<div class="sect1">
<h2 id="_nucleator">NUCLEATOR</h2>
<div class="sectionbody">
<div class="paragraph"><p>Part of the <a href="nucleator.html">nucleator(1)</a> suite</p></div>
</div>
</div>
      </article>
      <div class="clear-fix"></div>
      <div class="secondaryNav">
        <a href="../installation.html">Installation</a>
        <a href="index.html">Documentation</a>
        <a href="../releases.html">Releases</a>
        <a href="../license.html">License</a>
        <a href="../community.html">Community</a>
      </div>
      <footer>
        &copy; Copyright 2015, <a href="http://www.47lining.com" target="_blank">47Lining, LLC</a>
      </footer>
    </div>
</body>
</html>
